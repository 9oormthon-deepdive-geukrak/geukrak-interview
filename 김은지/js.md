# 프로그래밍 🔥

## 프로그래밍이란 뭐라고 생각하나요?

- 특정 목적을 달성하기 위해 설계된 알고리즘을 프로그래밍 언어를 사용하여 구체적인 프로그램으로 작성하는 것

## 컴파일러는 뭐고 인터프리터는 뭔가요? 🔥

- 컴파일러
  - 컴파일을 실행하는 프로그램
  - 일반적으로 고급 언어로 작성된 코드를 이진 코드/기계코드라고 하는 실행 가능한 코드로 변환
- 인터프리터
  - 우리가 작성한 코드를 소스파일로 바로 실행시켜주는 프로그램

### 컴파일러와 인터프리터 차이

| 컴파일러                 | 인터프리터                                                       |
| ------------------------ | ---------------------------------------------------------------- |
| 소스파일을 한 줄씩 해석  | 전체 프로그램 코드를 스캔하고 코드 전체를 통째로 목적코드로 변환 |
| 소스 코드 해석 시간 적음 | 소스 코드 해석 시간 많음                                         |
| 실행 시간 느림           | 실행 시간 빠름                                                   |

### 컴파일이란?

- 한 언어로 작성된 프로그램을 다른 언어의 동등한 프로그램으로 변환하는 프로세스
- 한 언어로 작성된 소스 코드를 다른 언어로 변환하는 것
- assembling 또는 build라고도 함

### 컴파일 언어의 장단점

- 장점
  - 프로그램의 오류를 실행 없이 발견 가능
  - 처음 컴파일 과정 이후에는 해석된 파일로 재실행을 하여 여러 번 반복적인 실행이 필요할 때 인터프리터 언어보다 빠르게 동작
  - 기계어에 좀 더 가까운 저수준 언어이기 때문에 인터프리터 언어보다 더 적은 메모리로 동일한 코드 실행 가능
- 단점
  - 운영체제마다 사용하는 기계어가 달라지기 때문에, 별도의 처리 필요
  - 규모가 클수록 컴파일 과정 자체가 오랜 시간이 걸림
  - 저수준 언어에 가깝기 때문에 사용이 어려움
    => 수정이 자주 발생하는 소프트웨어에서는 빠른 개발과 유지보수, 동적인 환경에 유연한 인터프리터 언어가 효율적일 수 있음

# 자바스크립트란 🔥

## 자바스크립트의 특징은 뭐가 있나요?

1. 웹 핵심 구성 요소

- HTML, CSS와 함께 웹을 구성하는 요소 중 하나
- 웹 브라우저에서 DOM을 직접 조작 할 수 있는 유일한 프로그래밍 언어

2. 인터프리터 언어 및 JIT 컴파일

- 코드를 한 줄씩 실행하는 인터프리터 언어
- 브라우저 엔진에 따라 성능 향상을 위해 JIT 컴파일러를 사용하여 컴파일 과정을 거치기도 함
  (인터프리터와 컴파일러의 장점을 결합해 비교적 처리 속도가 느린 인터프리터의 단점 해결)

3. +동적 타입 언어

- 변수의 타입이 런타임에 결정
- 유연한 코딩과 빠른 프로토타이핑 가능
- 타입 오류가 런타임에 발생할 수 있어 주의 필요

4. 멀티 패러다임 프로그래밍 언어

- 명령형, 함수형, 프로토타입 기반 객체지향 프로그래밍 지원
- 문제 해결에 적합한 프로그래밍 스타일을 선택 가능

5. +싱글 스레드 방식과 이벤트 루프

- 자바스크립트 엔진은 단 하나의 실행 컨텍스트 스택(콜스택)를 가짐
- 기본적으로 하나의 스레드에서 실행하므로 동기로 동작
- 브라우저의 이벤트 루프를 활용하여 멀티스레드, 비동기적 동작도 구현 가능

6. +환경

- 브라우저뿐만 아니라 Node.js 등을 통해 서버 측 프로그래밍도 가능

### 자바스크립트가 웹 브라우저에서 동작하는 유일한 프로그래밍 언어인가?

- WebAssembly도 웹 브라우저에서 동작하는 언어이다.
- WebAssembly is a type of code that can be run in modern web browsers — it is a low-level assembly-like language \_mdn
  - 하지만 DOM에 직접 접근하는 것이 제한되어 있다.

[참고]

- https://developer.mozilla.org/en-US/docs/WebAssembly
- https://en.wikipedia.org/wiki/WebAssembly

### 자바스크립트에서의 JIT 컴파일러

> - JIT(Just-In-Time) - 런타임에 컴파일 (<-> AOT(Ahead-of-Time) - 서버에서 미리 컴파일)
> - JIT 컴파일러
>   - 인터프리터 언어의 실행과 동시에 컴파일이 가능하도록 만든 동적 컴파일러
>   - 소스 코드를 파싱 하면서 중간언어로 먼저 변환
>   - 모드에 따라서 다르게 수행 (인터프리터 - 바이트 코드 하나씩 읽음, JIT 모드 - 바이트 코드를 기반으로 컴파일하여 동작)
>   - 보편적인 케이스를 제외하고는 비효율적이라고 판단하면 slow case로 넘겨서 인터프리터 실행

- 자바스크립트는 동적 타입 언어이기 때문에 자바스크립트 엔진에서는 동적 타입에서의 모든 예외 처리를 고려해야 함
  - slow case로 실행하는 인터프리터 동작의 비중이 높을 수 밖에 없으며, JIT는 컴파일할 시 컴파일로 인한 과부하(compliation overhead)가 발생하기 때문에 자바스크립트 엔진에서는 비효율적
  - 최적화할 부분(Hot Spot)에 대해서도 적을 수 있기 때문에 자바스크립트 엔진을 위한 최적화가 필수적으로 요구됨
- 적응형 JIT 컴파일러(AJITC: Adaptive Just In Time Complier)
  - 실행하는 자바스크립트 코드에 적응하는 JIT 컴파일러
  - 모든 바이트코드를 네이티브 코드로 컴파일하지 않고, 프로파일링을 도입하여 최적화할 코드 선별
  - 선별한 코드만 컴파일하여 컴파일로 인한 과부하를 최소화하고 최적화할 부분에 대해서도 해결

[참고]

- https://blog.cinntiq.synology.me/jit/

# 변수 🔥

## 변수란 무엇인가요?

- 하나의 값을 저장하는 메모리 공간에 상징적인 이름을 붙인 것

### 메모리에 저장된 값에 직접 접근하는 게 아닌 변수를 사용하는 이유가 무엇인가요?

- 사용자가 직접적으로 접근하게 되면
- 실수로 운영체제가 사용하고 있는 값을 변경하면 시스템을 멈추게 하는 등 의도치 않게 문제 발생할 수 있음
- 값이 저장될 메모리 주소가 코드가 실행될 때마다 메모리 상황에 따라 임의로 결정되어 코드 실행 전 값이 저장된 메모리를 알 수 없음
- 따라서 자바스크립트는 개발자의 직접적인 메모리 제어를 허용하지 않음

### 변수 사용 장점

- 변수에 저장된 값의 의미를 명확하게 할 수 있음 -> 가독성을 높임

## 식별자란 무엇인가요? 🔥

- 어떤 값을 구별해서 식별할 수 있는 고유한 이름, 메모리 주소에 붙인 이름
- 변수이름에만 국한해서 사용하는 것은 아님 - 변수, 함수, 클래스 등 메모리 상에 존재하는 어떤 값을 식별할 수 있는 이름은 모두 식별자
- (값이 아닌) 값이 저장되어 있는 메모리 주소와 매핑 관계를 맺음

## 변수를 선언한다는 것은 어떤 것을 의미하나요?

- 값을 저장하기 위한 **메모리 공간을 확보**하고 **변수 이름과 확보된 메모리 공간의 주소를 연결**해서 값을 저장할 수 있게 준비하는 것
- 자바스크립트 엔진의 변수 선언 2단계
  1. 선언 단계: 변수 이름을 [실행 컨텍스트](#실행-컨텍스트에-대해-말해보세요-)에 등록
  2. 초기화 단계: 값 저장을 위한 메모리 공간 확보 (undefined 값 암묵적 할당)

### 왜 초기화 단계를 거치는 걸까?

- 메모리 공간을 확보한 후, 값을 할당(초기화)하지 않은 상태에서 곧바로 변수 값을 참조하면 확보된 메모리 공간에 이전에 사용하던 값(쓰레기 값)이 나올 수 있음

### 선언하지 않은 식별자에 접근하면 어떻게 될까?

- ReferenceError 발생하기
- ```js
  // QUIZ
  typeof test; // undefined
  ```

  typeof 연산자는 내부적으로 문자열을 반환하도록 처리되기 때문에 선언하지 않은 식별자의 경우 ReferenceError 발생하지 않고 undefined 반화 (TDZ에서는 ReferenceError)

### 변수 선언의 실행 시점은?

- 코드 평가 단계
- 따라서 실행 시점(런타임)에서 참조 가능 -> [호이스팅](#호이스팅이-뭔가요-)
- +할당은 런타임에 실행

#### 소스코드의 평가와 실행 (p361)

![소스코드의 평가와 실행](images/sourcecode-evaluation-execution.png)

- 위 그림에서 실행 컨텍스트는 구체적으로 실행 컨텍스트가 관리하는 스코프(렉시컬 환경의 환경 레코드)

## var 키워드는 뭔가요?

- ES6에서 let, const 키워드 도입 전, 변수 선언 유일 키워드
- 선언 단계와 초기화 단계 동시에 진행
- 함수 레벨 스코프
- 재할당 가능
- 같은 스코프 내, 중복 선언 가능
- var 키워드로 선언한 변수는 전역 객체의 프로퍼티가 됨

### 키워드란?

- 자바스크립트 코드를 해석하고 실행하는 자바스크립트 엔진이 수행할 동작을 규정한 일종의 명령어

### 재할당 시 메모리 공간

- 기존 값이 있던 메모리 공간에 재할당 값을 새로 저장하는 것이 아닌,
- 새로운 메모리 공간을 확보하고 그 메모리 공간에 재할당 값 저장
- 어떤 식별자와도 연결되어 있지 않은 기존 값의 경우 [가비지 콜렉터](#자바스크립트의-가바지-컬렉션에-대해-알고-있나요)에 의해 메모리에서 자동 해제

## 호이스팅이 뭔가요? 🔥🔥

- 변수의 선언 단계는 런타임 이전에 실행되며, 실행 컨텍스트 안에 식별자 정보(key - 변수 이름, value - 변수 값) 저장
- 변수 선언이 맨 처음 실행되어, 마치 스코프 최상단에 위치한 것처럼 보이기 때문에, 호이스팅이라고도 함

### let이나 const는 호이스팅이 발생하지 않나요?

- var과 let, const 모두 호이스팅이 일어남
- var은 선언과 동시에 초기화가 일어나서 값 할당 전 reference에러가 발생하지 않음
- let과 const는 선언과 초기화가 분리되어 일어나서 선언과 초기화 사이인 [일시적 사각 지대](#tdz-)에서는 reference에러 발생

## var 키워드의 문제점은 무엇이 있나요? 🔥 (모던 JS 15장 p208)

- 변수 중복 선언 허용 -> 의도치 않게 먼저 선언된 변수 값 변경 가능
- 함수 레벨 스코프 -> 함수 외부 코드 블록 내 선언한 변수는 전역 변수가 됨 -> 번역 변수 중복 선언 발생 가능
- 변수 호이스팅 -> 변수 선언문 이전 변수 참조 시 에러는 발생하지 않지만 프로그램 흐름상 맞지 않고, 가독성 떨어지고, 오류 발생 여지 있음

## let 키워드는 var 키워드와 어떤 점이 다른가요? 🔥🔥

[let]

- ES6에서 도입
- 코드 평가 시 선언 단계, 코드 실행 시 초기화 단계 -> 사이 구간을 [TDZ](#tdz-)라고 함
- 블록 레벨 스코프
- 재할당 가능 (동일)
- 같은 스코프 내, 중복 선언 불가능

vs [var 키워드는 뭔가요?](#var-키워드는-뭔가요)

## const 키워드는 어떤 특징이 있나요? 🔥

- ES6에서 도입
- 코드 평가 시 선언 단계, 코드 실행 시 초기화 단계 -> 사이 구간을 [TDZ](#tdz-)라고 함
- 블록 레벨 스코프
- 재할당 불가 (선언과 동시에 초기화)
- 같은 스코프 내, 중복 선언 불가능

### const는 값 변경이 불가능 한데, const로 선언한 객체를 수정할 수 있는 이유는 무엇인가요?

- const 객체 변수는 값이 아닌 값이 저장되는 메모리힙 주소가 콜스택에 할당
- 객체 주소 자체를 변경하는 게 아닌 객체 내부 프로퍼티를 변경할 경우에는 변수에 값을 재할당 한게 아닌 메모리 힙에 저장된 값이 변경되는 것
- 실제로 콜스택에 저장된 메모리힙 주소는 변경된 부분이 없음

## TDZ 🔥🔥

- 일시적 사각지대
- 스코프 시작 지점부터 초기화 시작 지점까지 변수를 참조할 수 없는 구간
- TDZ에서 변수를 사용하려고 하면 ReferenceError 발생
- let, const, class를 사용한 선언문등\*에서 발생

[참고]

- \*https://ui.toast.com/weekly-pick/ko_20191014

## 식별자 네이밍 규칙은 어떤 것들이 있나요?

- 예약어는 식별자로 사용 X
- $, \_가 아닌 특수 문자 사용 X
- 숫자로 시작 X
- 대소문자 구분

### 예약어 중 let도 식별자로 사용이 불가능 한가요?

- 아직 예약어로 등록되지 않았지만 strict 모드에서는 예약어로 취급하여 식별자 불가능

## 네이밍 컨벤션은 어떤 것들이 있나요?

- camelCase - 식별자의 첫글자 소문자, 각 단어 구분 시 단어 첫 글자 대문자
- PascalCase - 식별자의 첫글자 대문자, 각 단어 구분 시 단어 첫 글자 대문자
- snake_case - 소문자로 구성, 각 단어 구분 시 단어 사이 \_
- UPPER_SNAKE_CASE - 대문자로 구성, 각 단어 구분 시 단어 사이 \_

## 리터럴이 뭔가요?

- 사람이 이해할 수 있는 문자 또는 약속된 기호를 사용해 값을 생성하는 표기법
- 자바스크립트 엔진은 런타임에 리터럴을 평가해 값을 생성함

